# 3번 문제

주어진 프로젝트 는 다음의 기능을 구현하고자 생성한 프로젝트이다.

### 1. Turret
- Trigger 범위 내로 플레이어가 들어왔을 때 1.5초에 한번씩 플레이어를 바라보면서 총알을 발사한다
- Trigger 범위 바깥으로 플레이어가 나가면 발사를 중지한다.
- 오브젝트 풀을 사용해 총알을 관리한다.

### 2. Bullet :
- 20만큼의 힘으로 전방을 향해 발사된다
- 발사 후 5초 경과 시 비활성화 처리된다
- 플레이어를 가격했을 경우 2의 데미지를 준다

### 3. Player
- 총알과 충돌했을 때, 데미지를 입는다
- 체력이 0 이하가 될 경우 효과음을 재생하며 비활성화된다.
- 플레이어의 이동은 씬 뷰를 사용해 이동하도록 한다.

위 기능들을 구현하고자 할 때
제시된 프로젝트에서 발생하는 `문제들을 모두 서술`하고 올바르게 동작하도록 `소스코드를 개선`하시오.

## 답안
- 플레이어 감지 문제 = 플레이어쪽 RigidBody 가 없으므로 충돌체 감지가 안됨 플레이어 오브젝트 Rigidbody 추가
- Bullet 에 사용될 Rigidbody 컴포넌트가 없음 Bullet 프리팹에 Rigidbody 컴포넌트 추가
- Trigger를 감지하는 other 오브젝트는 Player의 Body 이나, Body 쪽엔 PlayerController가 없음 = GetComponetInParent를 사용한다.
- bullet 이 비활성화 될때 velocity 값을 그대로 갖게된다. 이는 다음 생성시 이동속도에 영향을 준다. velocity 초기화작업이 필요하다.
- 플레이어가 오디오 소스를 직접 들고있으며 Die로직 발생시 사운드 플레이와 비활성화 로직이 동시에 작동된다. 
이는 사운드 재생시 바로 비활성화 되므로 사운드를 재생할 시간이 없어지게된다 = 코루틴을 활용해 오디오가 현재 진행중인지 확인시킨다.
또, 이 죽어있는 상태에서 총알을 추가적으로 맞게될때 Die 로직이 추가적으로 발생되어 코루틴을 계속 호출하게됨 = 내부 isDead 변수를 활용해 문제 해결
- 무한 추적상태. 감지된 플레이어가 범위를 벗어나도 발사로직이 계속 동작됨 = OntriggerExit 로직으로 해당 로직을 중단시킨다.
- 범위내에서 플레이어가 사망한 경우 발사 코루틴이 계속 동작중 = 대상 오브젝트가 하이어라키에서 비활성화 될경우 코루틴을 중단시킨다.
